# This file is an EasyBuild reciPY as per https://github.com/hpcugent/easybuild
# Author: Pablo Escobar Lopez
# Swiss Institute of Bioinformatics
# Biozentrum - University of Basel

# modified by Adam Mazur, UniBas

easyblock='Tarball'

name = 'CCP4'
version = '6.5'
versionsuffix = '-ARP-wARP-7.5'

homepage = 'http://www.ccp4.ac.uk/'
description = """  CCP4 exists to produce and support a world-leading, integrated suite 
 of programs that allows researchers to determine macromolecular structures by X-ray 
 crystallography, and other biophysical techniques. CCP4 aims to develop and support 
 the development of cutting edge approaches to experimental determination and analysis 
 of protein structure, and integrate these approaches into the suite. CCP4 is a community 
 based resource that supports the widest possible researcher community, embracing academic, 
 not for profit, and for profit research. CCP4 aims to play a key role in the education 
 and training of scientists in experimental structural biology. This module also includes  
 ARP/wARP v7.5""" 

toolchain = {'name': 'dummy', 'version': ''}

# no public download link. Download .tar.gz from http://www.ccp4.ac.uk/download/index.php#os=linux
# You should download the file containing CCP4 Program Suite + ARP/wARP  (64 bit)
sources = ['%(namelower)s-%(version)s-arp-linux-x86_64.tar.bz2']

postinstallcmds = ['touch $HOME/.agree2ccp4v6',
                   'cd %(installdir)s/%(namelower)s-%(version)s && ./BINARY.setup',
                   'cd %(installdir)s/arp_warp_7.5 && ./install.sh ccp4=%(installdir)s/%(namelower)s-%(version)s']

#dependencies = [
#                ('Java', '1.7.0_21'),
#                ('Python', '2.7.5', '', ('goolf', '1.4.10')) 
#]

sanity_check_paths = {
    'files': ["" ],
    'dirs': ["%(namelower)s-%(version)s"]
}

modloadmsg = """BASH USERS RUN: source \\$EBROOTCCP4/ccp4-6.5/bin/ccp4.setup-sh"""

moduleclass = 'bio'
